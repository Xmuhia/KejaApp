"use strict";(self.webpackChunkubold_react=self.webpackChunkubold_react||[]).push([[9738],{75184:(e,t,n)=>{n.d(t,{Z:()=>l});n(72791);var s=n(89743),a=n(2677),r=n(2461),d=n(80184);const l=e=>(0,d.jsx)(s.Z,{children:(0,d.jsx)(a.Z,{children:(0,d.jsxs)("div",{className:"page-title-box",children:[(0,d.jsx)("div",{className:"page-title-right",children:(0,d.jsxs)(r.Z,{className:"m-0",children:[(0,d.jsx)(r.Z.Item,{href:"/",children:"Keja Plus"}),(e.breadCrumbItems||[]).map(((e,t)=>e.active?(0,d.jsx)(r.Z.Item,{active:!0,children:e.label},t):(0,d.jsx)(r.Z.Item,{href:e.path,children:e.label},t)))]})}),(0,d.jsx)("h4",{className:"page-title",children:e.title})]})})})},75356:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(72791),a=n(19485),r=n(61734),d=n(89743),l=n(2677),i=n(9140),c=n(43360),o=n(62591),h=n(21827),x=n(84158),j=n(91951),p=n(13496),u=n(75184),m=n(45961),y=n(80184);const b=[{id:1,category:"Maintenance",amount:500,date:"2024-08-15",description:"Plumbing repair",propertyName:"Sunset Apartments"},{id:2,category:"Utilities",amount:1200,date:"2024-08-01",description:"Electricity bill",propertyName:"Lakeside Villas"}],Z=[{id:1,name:"Q3 2024 Profit and Loss",type:"Profit and Loss",dateRange:{start:"2024-07-01",end:"2024-09-30"},generatedOn:"2024-10-01"},{id:2,name:"August 2024 Cash Flow",type:"Cash Flow",dateRange:{start:"2024-08-01",end:"2024-08-31"},generatedOn:"2024-09-01"}],g=()=>{const[e,t]=(0,s.useState)(b),[n,g]=(0,s.useState)(Z),[v,f]=(0,s.useState)(b),[C,w]=(0,s.useState)({start:"",end:""}),[N,R]=(0,s.useState)("All"),[S,M]=(0,s.useState)(!1),[E,k]=(0,s.useState)({name:"",type:"Profit and Loss",dateRange:{start:"",end:""}}),D=(0,s.useCallback)((()=>{let t=e;C.start&&C.end&&(t=t.filter((e=>e.date>=C.start&&e.date<=C.end))),"All"!==N&&(t=t.filter((e=>e.category===N))),f(t)}),[e,C,N]);(0,s.useEffect)((()=>{t(b),g(Z),f(b)}),[]),(0,s.useEffect)((()=>{D()}),[C,N,e,D]);const L=e=>{w({...C,[e.target.name]:e.target.value})},P=e=>{const{name:t,value:n}=e.target;k("start"===t||"end"===t?e=>({...e,dateRange:{...e.dateRange,[t]:n}}):e=>({...e,[t]:n}))},$=v.reduce(((e,t)=>e+t.amount),0),G=v.reduce(((e,t)=>(e[t.category]=(e[t.category]||0)+t.amount,e)),{}),O={chart:{type:"pie"},labels:Object.keys(G),legend:{position:"bottom"}},A=Object.values(G);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.Z,{breadCrumbItems:[{label:"Home",path:"/"},{label:"Expenses & Reports",path:"/expenses-reports",active:!0}],title:"Expenses & Reports"}),(0,y.jsxs)(a.Z,{defaultActiveKey:"expenses",id:"expenses-reports-tabs",className:"mb-3",children:[(0,y.jsxs)(r.Z,{eventKey:"expenses",title:"Expenses",children:[(0,y.jsx)(d.Z,{children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,y.jsx)("h4",{className:"header-title",children:"Expense Summary"}),(0,y.jsx)(c.Z,{variant:"primary",onClick:()=>{(0,m.b)(v,"Expense Report")},children:"Generate Expense Report"})]}),(0,y.jsxs)(d.Z,{children:[(0,y.jsxs)(l.Z,{md:6,children:[(0,y.jsxs)("h5",{children:["Total Expenses: $",$.toLocaleString()]}),(0,y.jsx)(p.Z,{options:O,series:A,type:"pie",height:300})]}),(0,y.jsxs)(l.Z,{md:6,children:[(0,y.jsx)("h5",{children:"Expenses by Category"}),(0,y.jsxs)(o.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Category"}),(0,y.jsx)("th",{children:"Amount"})]})}),(0,y.jsx)("tbody",{children:Object.entries(G).map((e=>{let[t,n]=e;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:t}),(0,y.jsxs)("td",{children:["$",n.toLocaleString()]})]},t)}))})]})]})]})]})})})}),(0,y.jsx)(d.Z,{children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsx)("h4",{className:"header-title mb-3",children:"Expense History"}),(0,y.jsx)(h.Z,{className:"mb-3",children:(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(l.Z,{md:3,children:(0,y.jsxs)(h.Z.Group,{children:[(0,y.jsx)(h.Z.Label,{children:"Start Date"}),(0,y.jsx)(h.Z.Control,{type:"date",name:"start",value:C.start,onChange:L})]})}),(0,y.jsx)(l.Z,{md:3,children:(0,y.jsxs)(h.Z.Group,{children:[(0,y.jsx)(h.Z.Label,{children:"End Date"}),(0,y.jsx)(h.Z.Control,{type:"date",name:"end",value:C.end,onChange:L})]})}),(0,y.jsx)(l.Z,{md:3,children:(0,y.jsxs)(h.Z.Group,{children:[(0,y.jsx)(h.Z.Label,{children:"Category"}),(0,y.jsxs)(h.Z.Select,{value:N,onChange:e=>{R(e.target.value)},children:[(0,y.jsx)("option",{value:"All",children:"All"}),(0,y.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,y.jsx)("option",{value:"Utilities",children:"Utilities"})]})]})})]})}),(0,y.jsxs)(o.Z,{responsive:!0,className:"table-centered mb-0",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"ID"}),(0,y.jsx)("th",{children:"Category"}),(0,y.jsx)("th",{children:"Amount"}),(0,y.jsx)("th",{children:"Date"}),(0,y.jsx)("th",{children:"Description"}),(0,y.jsx)("th",{children:"Property"})]})}),(0,y.jsx)("tbody",{children:v.map((e=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.id}),(0,y.jsx)("td",{children:e.category}),(0,y.jsxs)("td",{children:["$",e.amount.toLocaleString()]}),(0,y.jsx)("td",{children:(0,j.default)(new Date(e.date),"MMM dd, yyyy")}),(0,y.jsx)("td",{children:e.description}),(0,y.jsx)("td",{children:e.propertyName})]},e.id)))})]})]})})})})]}),(0,y.jsx)(r.Z,{eventKey:"reports",title:"Reports",children:(0,y.jsx)(d.Z,{children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(i.Z.Body,{children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,y.jsx)("h4",{className:"header-title",children:"Generated Reports"}),(0,y.jsx)(c.Z,{variant:"primary",onClick:()=>M(!0),children:"Generate New Report"})]}),(0,y.jsxs)(o.Z,{responsive:!0,className:"table-centered mb-0",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"ID"}),(0,y.jsx)("th",{children:"Name"}),(0,y.jsx)("th",{children:"Type"}),(0,y.jsx)("th",{children:"Date Range"}),(0,y.jsx)("th",{children:"Generated On"}),(0,y.jsx)("th",{children:"Action"})]})}),(0,y.jsx)("tbody",{children:n.map((e=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.id}),(0,y.jsx)("td",{children:e.name}),(0,y.jsx)("td",{children:e.type}),(0,y.jsxs)("td",{children:[(0,j.default)(new Date(e.dateRange.start),"MMM dd, yyyy")," -"," ",(0,j.default)(new Date(e.dateRange.end),"MMM dd, yyyy")]}),(0,y.jsx)("td",{children:(0,j.default)(new Date(e.generatedOn),"MMM dd, yyyy")}),(0,y.jsx)("td",{children:(0,y.jsxs)(c.Z,{variant:"link",className:"p-0",children:[(0,y.jsx)("i",{className:"mdi mdi-download"})," Download"]})})]},e.id)))})]})]})})})})})]}),(0,y.jsxs)(x.Z,{show:S,onHide:()=>M(!1),children:[(0,y.jsx)(x.Z.Header,{closeButton:!0,children:(0,y.jsx)(x.Z.Title,{children:"Generate New Report"})}),(0,y.jsx)(x.Z.Body,{children:(0,y.jsxs)(h.Z,{children:[(0,y.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,y.jsx)(h.Z.Label,{children:"Report Name"}),(0,y.jsx)(h.Z.Control,{type:"text",name:"name",value:E.name,onChange:P,placeholder:"Enter report name"})]}),(0,y.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,y.jsx)(h.Z.Label,{children:"Report Type"}),(0,y.jsxs)(h.Z.Select,{name:"type",value:E.type,onChange:e=>{k((t=>({...t,type:e.target.value})))},children:[(0,y.jsx)("option",{value:"Profit and Loss",children:"Profit and Loss"}),(0,y.jsx)("option",{value:"Cash Flow",children:"Cash Flow"}),(0,y.jsx)("option",{value:"Occupancy",children:"Occupancy"}),(0,y.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,y.jsx)("option",{value:"Utility",children:"Utility"})]})]}),(0,y.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,y.jsx)(h.Z.Label,{children:"Start Date"}),(0,y.jsx)(h.Z.Control,{type:"date",name:"start",value:E.dateRange.start,onChange:P})]}),(0,y.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,y.jsx)(h.Z.Label,{children:"End Date"}),(0,y.jsx)(h.Z.Control,{type:"date",name:"end",value:E.dateRange.end,onChange:P})]})]})}),(0,y.jsxs)(x.Z.Footer,{children:[(0,y.jsx)(c.Z,{variant:"secondary",onClick:()=>M(!1),children:"Close"}),(0,y.jsx)(c.Z,{variant:"primary",onClick:()=>{const e={id:n.length+1,name:E.name||"",type:E.type,dateRange:{start:E.dateRange.start,end:E.dateRange.end},generatedOn:(new Date).toISOString()};g([...n,e]),M(!1),k({name:"",type:"Profit and Loss",dateRange:{start:"",end:""}})},children:"Generate Report"})]})]})]})}},45961:(e,t,n)=>{n.d(t,{b:()=>s});const s=(e,t)=>{const n=window.open("","_blank");n?(n.document.write(`\n      <html>\n        <head>\n          <title>${t}</title>\n          <style>\n            table { border-collapse: collapse; width: 100%; }\n            th, td { border: 1px solid black; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n          </style>\n        </head>\n        <body>\n          <h1>${t}</h1>\n          <table>\n            <thead>\n              <tr>${Object.keys(e[0]).map((e=>`<th>${e}</th>`)).join("")}</tr>\n            </thead>\n            <tbody>\n              ${e.map((e=>`\n                <tr>${Object.values(e).map((e=>`<td>${e}</td>`)).join("")}</tr>\n              `)).join("")}\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `),n.document.close(),n.onload=function(){n.print(),n.onafterprint=function(){n.close()}}):alert("Please allow popups for this website")}},22021:(e,t,n)=>{n.d(t,{gP:()=>l});var s=n(72791);const a={prefix:String(Math.round(1e10*Math.random())),current:0},r=s.createContext(a);let d=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);function l(e){let t=(0,s.useContext)(r);return t!==a||d||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,s.useMemo)((()=>e||"react-aria"+t.prefix+"-"+ ++t.current),[e])}},47904:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(72791);const a=function(e){var t=(0,s.useRef)(e);return(0,s.useEffect)((function(){t.current=e}),[e]),t}},39007:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(72791),a=n(47904);function r(e){var t=(0,a.Z)(e);return(0,s.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},53189:(e,t,n)=>{function s(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,{Z:()=>s})},43360:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(81694),a=n.n(s),r=n(72791),d=n(15341),l=n(10162),i=n(80184);const c=r.forwardRef(((e,t)=>{let{as:n,bsPrefix:s,variant:r,size:c,active:o,className:h,...x}=e;const j=(0,l.vE)(s,"btn"),[p,{tagName:u}]=(0,d.FT)({tagName:n,...x}),m=u;return(0,i.jsx)(m,{...x,...p,ref:t,className:a()(h,j,o&&"active",r&&`${j}-${r}`,c&&`${j}-${c}`,x.href&&x.disabled&&"disabled")})}));c.displayName="Button",c.defaultProps={variant:"primary",active:!1,disabled:!1};const o=c},5715:(e,t,n)=>{n.d(t,{Z:()=>a});const s=n(72791).createContext(null);s.displayName="NavbarContext";const a=s},42391:e=>{var t=function(){};e.exports=t}}]);
//# sourceMappingURL=9738.a45561a9.chunk.js.map